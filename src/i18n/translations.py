"""
Module de gestion des traductions pour SystemdManager
"""

class I18n:
    def __init__(self):
        self.current_locale = "fr"
        self.translations = {
            "fr": {
                # Barre lat√©rale
                "üìã Services": "üìã Services",
                "‚ûï New Service": "‚ûï Nouveau Service",
                "üîÑ Refresh": "üîÑ Actualiser",
                "üé® Theme": "üé® Th√®me",
                "Dark mode": "Mode sombre",
                
                # Boutons principaux
                "Start": "D√©marrer",
                "Stop": "Arr√™ter",
                "Restart": "Red√©marrer",
                "Edit": "√âditer",
                "Logs": "Journaux",
                "Delete": "Supprimer",
                "Create": "Cr√©er",
                "Cancel": "Annuler",
                "Save": "Sauvegarder",
                
                # Labels et titres
                "Name": "Nom",
                "Description": "Description",
                "Status": "Statut",
                "Services systemd": "Services systemd",
                "Creation of a new service": "Cr√©ation d'un nouveau service",
                "Unit": "Unit√©",
                "Service": "Service",
                "Install": "Installation",
                "No description": "Aucune",
                
                # Statuts
                "active": "actif",
                "inactive": "inactif",
                "failed": "√©chec",
                "unknown": "inconnu",
                
                # Formulaire de cr√©ation
                "Enter the name of your service (without .service)": "Entrez le nom de votre service (sans .service)",
                "Enter a description for your service": "Entrez une description pour votre service",
                "Enter the command to execute": "Entrez la commande √† ex√©cuter",
                "Enter the working directory (optional)": "Entrez le r√©pertoire de travail (optionnel)",
                "Enter the user to run the service (optional)": "Entrez l'utilisateur pour ex√©cuter le service (optionnel)",
                "Enter the group to run the service (optional)": "Entrez le groupe pour ex√©cuter le service (optionnel)",
                "Basic Information": "Informations de base",
                "Service Name *": "Nom du service *",
                "Service name without .service extension\nExample: my-app": "Le nom du service sans l'extension .service\nExemple: mon-app",
                "Short description of the service\nExample: System monitoring service": "Description courte du service\nExemple: Service de monitoring syst√®me",
                "Service Type": "Type de service",
                "Available service types:": "Types de service disponibles :",
                "Main process stays in foreground": "Process principal reste au premier plan",
                "Process detaches to background": "Process se d√©tache en arri√®re-plan",
                "Runs once and stops": "S'ex√©cute une fois et s'arr√™te",
                "Like simple, but with notifications": "Comme simple, mais avec notifications",
                "Execution Configuration": "Configuration d'ex√©cution",
                "User": "Utilisateur",
                "User who runs the service\nCurrent user by default, root for system services": "Utilisateur qui ex√©cute le service\nUtilisateur actuel par d√©faut, root pour les services syst√®me",
                "Working Directory": "Dossier de travail",
                "Directory where the service runs\nAbsolute path required. Example: /home/user/app": "Dossier o√π le service s'ex√©cute\nChemin absolu requis. Exemple: /home/user/app",
                "Manual Input": "Saisie manuelle",
                "Select Executable": "S√©lection d'un ex√©cutable",
                "Command to execute": "Commande √† ex√©cuter",
                "Full command with arguments": "Commande compl√®te avec arguments",
                "Arguments": "Arguments",
                "Optional arguments": "Arguments optionnels",
                "Use screen": "Utiliser screen",
                "Restart Configuration": "Configuration du red√©marrage",
                "Restart Policy": "Politique de red√©marrage",
                "No restart": "Pas de red√©marrage",
                "Always": "Toujours",
                "On failure": "Sur √©chec",
                "On failure or signal": "Sur √©chec ou signal",
                "Restart delay (seconds)": "D√©lai de red√©marrage (secondes)",
                "Maximum restarts": "Nombre maximum de red√©marrages",
                "Start delay (seconds)": "D√©lai de d√©marrage (secondes)",
                "Start service after saving": "D√©marrer apr√®s la sauvegarde",
                "Create Service": "Cr√©er le service",
                "Cancel": "Annuler",
                # Messages d'erreur et validation
                "Service name is required": "Le nom du service est requis",
                "Working directory must be an absolute path": "Le dossier de travail doit √™tre un chemin absolu",
                "Working directory does not exist": "Le dossier de travail n'existe pas",
                "Command to execute is required": "La commande √† ex√©cuter est requise",
                
                # √âdition de service
                "Description:": "Description :",
                "Number of restarts allowed:": "Nombre de red√©marrages autoris√©s :",
                "Interval (seconds):": "Intervalle (secondes) :",
                "User:": "Utilisateur :",
                "Working directory:": "Dossier de travail :",
                "Execution command:": "Commande d'ex√©cution :",
                "Restart policy:": "Politique de red√©marrage :",
                "No automatic restart": "Pas de red√©marrage automatique",
                "Always restart": "Red√©marre toujours",
                "Restart on error": "Red√©marre sur erreur",
                "Restart on error or signal": "Red√©marre sur erreur ou signal",
                "Restart delay (seconds):": "D√©lai de red√©marrage (secondes) :",
                "Start with:": "D√©marrer avec :",
                "Normal startup": "D√©marrage normal",
                "Graphical interface": "Interface graphique",
                "After network": "Apr√®s le r√©seau",
                
                # Directory chooser dialog
                "Select Working Directory": "S√©lection du dossier de travail",
                "Current Directory:": "Dossier actuel :",
                "Go": "Aller",
                "The specified directory does not exist.": "Le dossier sp√©cifi√© n'existe pas.",
                "The specified path is not a directory.": "Le chemin sp√©cifi√© n'est pas un dossier.",
                "You don't have permission to access this directory.": "Vous n'avez pas les permissions pour acc√©der √† ce dossier.",
                "Error validating directory: ": "Erreur lors de la validation du dossier : ",
                "Select": "S√©lectionner",
                "Cancel": "Annuler",
                "Error accessing directory: ": "Erreur lors de l'acc√®s au dossier : ",
            },
            "en": {
                # Sidebar
                "üìã Services": "üìã Services",
                "‚ûï New Service": "‚ûï New Service",
                "üîÑ Refresh": "üîÑ Refresh",
                "üé® Theme": "üé® Theme",
                "Dark mode": "Dark mode",
                
                # Main buttons
                "Start": "Start",
                "Stop": "Stop",
                "Restart": "Restart",
                "Edit": "Edit",
                "Logs": "Logs",
                "Delete": "Delete",
                "Create": "Create",
                "Cancel": "Cancel",
                "Save": "Save",
                
                # Labels and titles
                "Name": "Name",
                "Description": "Description",
                "Status": "Status",
                "Services systemd": "Systemd Services",
                "Creation of a new service": "Creation of a new service",
                "Unit": "Unit",
                "Service": "Service",
                "Install": "Install",
                "No description": "No description",
                
                # Status
                "active": "active",
                "inactive": "inactive",
                "failed": "failed",
                "unknown": "unknown",
                
                # Creation form
                "Enter the name of your service (without .service)": "Enter the name of your service (without .service)",
                "Enter a description for your service": "Enter a description for your service",
                "Enter the command to execute": "Enter the command to execute",
                "Enter the working directory (optional)": "Enter the working directory (optional)",
                "Enter the user to run the service (optional)": "Enter the user to run the service (optional)",
                "Enter the group to run the service (optional)": "Enter the group to run the service (optional)",
                "Basic Information": "Basic Information",
                "Service Name *": "Service Name *",
                "Service name without .service extension\nExample: my-app": "Service name without .service extension\nExample: my-app",
                "Short description of the service\nExample: System monitoring service": "Short description of the service\nExample: System monitoring service",
                "Service Type": "Service Type",
                "Available service types:": "Available service types:",
                "Main process stays in foreground": "Main process stays in foreground",
                "Process detaches to background": "Process detaches to background",
                "Runs once and stops": "Runs once and stops",
                "Like simple, but with notifications": "Like simple, but with notifications",
                "Execution Configuration": "Execution Configuration",
                "User": "User",
                "User who runs the service\nCurrent user by default, root for system services": "User who runs the service\nCurrent user by default, root for system services",
                "Working Directory": "Working Directory",
                "Directory where the service runs\nAbsolute path required. Example: /home/user/app": "Directory where the service runs\nAbsolute path required. Example: /home/user/app",
                "Manual Input": "Manual Input",
                "Select Executable": "Select Executable",
                "Command to execute": "Command to execute",
                "Full command with arguments": "Full command with arguments",
                "Arguments": "Arguments",
                "Optional arguments": "Optional arguments",
                "Use screen": "Use screen",
                "Restart Configuration": "Restart Configuration",
                "Restart Policy": "Restart Policy",
                "No restart": "No restart",
                "Always": "Always",
                "On failure": "On failure",
                "On failure or signal": "On failure or signal",
                "Restart delay (seconds)": "Restart delay (seconds)",
                "Maximum restarts": "Maximum restarts",
                "Start delay (seconds)": "Start delay (seconds)",
                "Start service after saving": "Start service after saving",
                "Create Service": "Create Service",
                "Cancel": "Cancel",
                # Messages d'erreur et validation
                "Service name is required": "Service name is required",
                "Working directory must be an absolute path": "Working directory must be an absolute path",
                "Working directory does not exist": "Working directory does not exist",
                "Command to execute is required": "Command to execute is required",
                
                # Service editing
                "Description:": "Description:",
                "Number of restarts allowed:": "Number of restarts allowed:",
                "Interval (seconds):": "Interval (seconds):",
                "User:": "User:",
                "Working directory:": "Working directory:",
                "Execution command:": "Execution command:",
                "Restart policy:": "Restart policy:",
                "No automatic restart": "No automatic restart",
                "Always restart": "Always restart",
                "Restart on error": "Restart on error",
                "Restart on error or signal": "Restart on error or signal",
                "Restart delay (seconds):": "Restart delay (seconds):",
                "Start with:": "Start with:",
                "Normal startup": "Normal startup",
                "Graphical interface": "Graphical interface",
                "After network": "After network",
                
                # Directory chooser dialog
                "Select Working Directory": "Select Working Directory",
                "Current Directory:": "Current Directory:",
                "Go": "Go",
                "The specified directory does not exist.": "The specified directory does not exist.",
                "The specified path is not a directory.": "The specified path is not a directory.",
                "You don't have permission to access this directory.": "You don't have permission to access this directory.",
                "Error validating directory: ": "Error validating directory: ",
                "Select": "Select",
                "Cancel": "Cancel",
                "Error accessing directory: ": "Error accessing directory: ",
            }
        }

    def set_locale(self, locale: str):
        """Change la langue courante"""
        if locale in self.translations:
            self.current_locale = locale

    def get_text(self, text: str) -> str:
        """Traduit un texte dans la langue courante"""
        return self.translations[self.current_locale].get(text, text)

# Instance globale pour l'internationalisation
i18n = I18n()

# Fonction helper pour la traduction
def _(text: str) -> str:
    """Fonction de traduction"""
    return i18n.get_text(text)
